<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Settings</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* 1. APP FRAME */
    body { font-family: 'Poppins', sans-serif; background: #f0f2f5; margin: 0; padding: 20px; display: flex; justify-content: center; min-height: 100vh; }
    
    .mobile-screen { 
      background: #ffffff; width: 100%; max-width: 380px; min-height: 100vh; 
      position: relative; display: flex; flex-direction: column; 
      box-shadow: 0 0 30px rgba(0,0,0,0.1); border-radius: 30px; overflow: hidden;
    }

    /* 2. HEADER */
    .header {
      background: #ff9800; padding: 40px 20px 50px; color: white;
      border-radius: 0 0 40px 40px; text-align: center;
      box-shadow: 0 5px 15px rgba(255, 152, 0, 0.2);
      position: relative;
    }
    
    /* BACK BUTTON - UPDATED TO HOME.HTML */
    .back-arrow {
        position: absolute; top: 20px; left: 20px;
        color: white; font-size: 28px; text-decoration: none; font-weight: bold;
        cursor: pointer; z-index: 10;
    }

    .profile-pic { 
        width: 80px; height: 80px; background: white; border-radius: 50%; margin: 0 auto 10px;
        display: flex; align-items: center; justify-content: center; font-size: 40px; color: #444;
        box-shadow: 0 5px 10px rgba(0,0,0,0.1); border: 3px solid rgba(255,255,255,0.3);
        object-fit: cover;
    }
    .user-name { font-size: 20px; font-weight: 700; margin-bottom: 2px; }
    .user-phone { font-size: 13px; opacity: 0.9; }

    /* 3. MENU LIST */
    .menu-list { padding: 20px; flex: 1; overflow-y: auto; padding-bottom: 80px; margin-top: -20px; }
    
    .menu-item {
      background: white; padding: 15px; border-radius: 15px; margin-bottom: 12px;
      display: flex; align-items: center; box-shadow: 0 4px 10px rgba(0,0,0,0.03); border: 1px solid #f9f9f9;
      cursor: pointer; transition: 0.2s;
    }
    .menu-item:active { transform: scale(0.98); background: #fafafa; }
    
    .icon-box { 
        width: 35px; height: 35px; background: #fff3e0; border-radius: 10px; color: #ff9800;
        display: flex; align-items: center; justify-content: center; margin-right: 15px; font-size: 18px;
    }
    .menu-text { flex: 1; font-size: 14px; font-weight: 600; color: #333; }
    .arrow { color: #ccc; font-size: 12px; }

    /* 4. LOGOUT BUTTON */
    .logout-btn {
        margin-top: 20px; background: #ffebee; color: #d32f2f; border: 1px solid #ffcdd2;
        text-align: center; padding: 15px; border-radius: 15px; font-weight: 700; cursor: pointer;
        transition: 0.2s;
    }
    .logout-btn:active { background: #ffcdd2; }

    /* 5. BOTTOM NAV */
    .bottom-nav {
        position: absolute; bottom: 0; left: 0; width: 100%;
        background: white; border-top: 1px solid #eee;
        display: flex; justify-content: space-around; padding: 12px 0;
        border-radius: 20px 20px 0 0; z-index: 50;
    }
    .nav-item { text-decoration: none; display: flex; flex-direction: column; align-items: center; color: #aaa; flex: 1; }
    .nav-icon { font-size: 22px; margin-bottom: 3px; }
    .nav-text { font-size: 10px; font-weight: 600; }
    .nav-item.active { color: #ff9800; }

  </style>
</head>
<body onload="loadProfile()">

<div class="mobile-screen">

  <div class="header">
    <a href="home.html" class="back-arrow">‚Üê</a>

    <div id="picContainer" class="profile-pic">üë§</div>
    <div class="user-name" id="pName">Guest User</div>
    
    <div class="user-phone" id="pPhone">...</div>
  </div>

  <div class="menu-list">
    <div class="menu-item" onclick="window.location.href='edit_profile.html'">
      <div class="icon-box">‚úèÔ∏è</div>
      <div class="menu-text">Edit Profile</div>
      <div class="arrow">·ê≥</div>
    </div>
    
    <div class="menu-item" onclick="window.location.href='activity_history.html'">
      <div class="icon-box">üìä</div>
      <div class="menu-text">Activity History</div>
      <div class="arrow">·ê≥</div>
    </div>

    <div class="menu-item" onclick="window.location.href='notifications.html'">
      <div class="icon-box">üîî</div>
      <div class="menu-text">Notifications</div>
      <div class="arrow">·ê≥</div>
    </div>

    <div class="menu-item" onclick="window.location.href='privacy.html'">
      <div class="icon-box">üõ°Ô∏è</div>
      <div class="menu-text">Privacy Policy</div>
      <div class="arrow">·ê≥</div>
    </div>

    <div class="menu-item" onclick="window.location.href='support.html'">
      <div class="icon-box">üìû</div>
      <div class="menu-text">Help & Support</div>
      <div class="arrow">·ê≥</div>
    </div>

    <div class="logout-btn" onclick="logout()">Log Out</div>
  </div>

  <div class="bottom-nav">
      <a href="home.html" class="nav-item"><div class="nav-icon">üè†</div><span class="nav-text">Home</span></a>
      <a href="frame-ads.html" class="nav-item"><div class="nav-icon">üì¢</div><span class="nav-text">Ads</span></a>
      <a href="wallet.html" class="nav-item"><div class="nav-icon">üëõ</div><span class="nav-text">Wallet</span></a>
      <a href="settings.html" class="nav-item active"><div class="nav-icon">‚öôÔ∏è</div><span class="nav-text">Settings</span></a>
  </div>

</div>

<script>
  function loadProfile() {
    const activeMobile = localStorage.getItem("activeUser");
    
    if(activeMobile) {
        // FIX: Display the Active Mobile Number
        document.getElementById("pPhone").innerText = activeMobile;

        const user = JSON.parse(localStorage.getItem("userProfile_" + activeMobile));
        if(user) {
            document.getElementById("pName").innerText = user.name ? user.name : "Guest User";
            
            if(user.profilePic) {
                document.getElementById("picContainer").innerHTML = `<img src="${user.profilePic}" style="width:100%; height:100%; border-radius:50%; object-fit:cover;">`;
            }
        }
    } else {
        // Not logged in
        window.location.href = "user_login.html";
    }
  }

  function logout() {
    if(confirm("Are you sure you want to log out?")) {
      localStorage.removeItem("activeUser");
      // FIX: Redirects to Home Landing Page
      window.location.href = "index.html"; 
    }
  }
</script>

</body>
</html>