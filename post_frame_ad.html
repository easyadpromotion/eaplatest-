<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post Frame Ad</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* 1. APP FRAME STYLES */
        body { 
            font-family: 'Poppins', sans-serif; background: #e0f2f1; 
            margin: 0; padding: 20px; display: flex; justify-content: center; min-height: 100vh; 
        }
        
        .mobile-screen { 
            width: 100%; max-width: 380px; min-height: 100vh;
            background: #f8f9fa; border: 8px solid #fff; border-radius: 40px; 
            box-shadow: 0 30px 60px rgba(0,0,0,0.1), 0 0 0 2px #b2dfdb;
            display: flex; flex-direction: column;
            box-sizing: border-box; position: relative; overflow: hidden;
        }

        /* HEADER */
        .header {
            background: #009688; padding: 25px 20px 20px 20px; color: white;
            display: flex; align-items: center; border-radius: 0 0 20px 20px;
            box-shadow: 0 4px 10px rgba(0,150,136,0.2); z-index: 10;
        }
        .back-btn { text-decoration: none; color: white; font-size: 24px; margin-right: 15px; font-weight: bold; }
        .page-title { font-size: 18px; font-weight: 700; }

        /* SCROLLABLE FORM AREA */
        .container { 
            padding: 20px; flex: 1; overflow-y: auto; padding-bottom: 50px; 
        }
        .container::-webkit-scrollbar { display: none; }

        /* FORM CARD */
        .form-card { 
            background: white; padding: 20px; border-radius: 15px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.03); margin-bottom: 20px; 
        }

        label { display: block; font-weight: 600; margin-bottom: 8px; color: #444; font-size: 13px; }
        input, select, textarea { 
            width: 100%; padding: 12px; margin-bottom: 15px; 
            border: 2px solid #eee; border-radius: 10px; font-size: 13px; 
            box-sizing: border-box; font-family: 'Poppins', sans-serif;
        }
        input:focus, select:focus, textarea:focus { border-color: #009688; outline: none; }

        /* UPLOAD BOX */
        .upload-box {
            border: 2px dashed #b2dfdb; padding: 25px; text-align: center; 
            border-radius: 10px; margin-bottom: 20px; background: #e0f2f1; cursor: pointer;
        }
        .upload-icon { font-size: 30px; display: block; margin-bottom: 5px; }

        /* COST BOX */
        .cost-box { 
            background: #e3f2fd; padding: 15px; border-radius: 10px; 
            border: 1px dashed #2196f3; margin-top: 10px; 
        }
        .cost-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 13px; color: #555; }
        .cost-total { 
            border-top: 1px solid #bbdefb; padding-top: 10px; margin-top: 10px; 
            font-weight: 700; color: #1976d2; font-size: 16px; 
            display: flex; justify-content: space-between; 
        }

        /* BUTTON */
        .btn-submit {
            background-color: #009688; color: white; width: 100%; padding: 15px; 
            border: none; border-radius: 12px; font-size: 15px; font-weight: 700; 
            cursor: pointer; box-shadow: 0 5px 15px rgba(0,150,136,0.3);
            transition: 0.2s;
        }
        .btn-submit:active { transform: scale(0.98); }

    </style>
</head>
<body>

<div class="mobile-screen">

    <div class="header">
        <a href="select_ad_type.html" class="back-btn">&larr;</a>
        <div class="page-title">Post Frame Ad</div>
    </div>

    <div class="container">
        
        <div class="form-card">
            <label>Ad Image (Banner)</label>
            <div class="upload-box" onclick="document.getElementById('fileInput').click()">
                <span class="upload-icon">ðŸ“·</span>
                <span style="color:#00796b; font-size:12px; font-weight:600;">Click to Upload Image</span>
                <input type="file" id="fileInput" style="display: none;">
            </div>

            <label>Campaign Name</label>
            <input type="text" id="campName" placeholder="e.g., Diwali Sale Offer">

            <label>Ad Description</label>
            <textarea id="campDesc" rows="3" placeholder="Describe your offer..."></textarea>

            <label>Target Category</label>
            <select id="campCat">
                <option>Select Category</option>
                <option>Banking & Financial Services</option>
        <option>Information Technology (IT & ITES)</option>
        <option>FMCG</option>
        <option>Pharmaceuticals & Healthcare</option>
        <option>Automobile</option>
        <option>Oil&Gas / Energy</option>
        <option>Retail & E-Commerce</option> 
        <option>Metals & Mining</option>
        <option>Power & Utilities</option>
        <option>Infrastructure</option>
        <option>Chemicals & Fertilizers</option>
        <option>Capital Goods & Engineering</option>
        <option>Textiles & Apparel</option>
        <option>Consumer Durables</option>
        <option>Retail & E-Commerce</option>
        <option>Logistics & Transportation</option>
        <option>Agriculture & Allied</option>
        <option>Family & Relatives </option>
        <option>Food & Dining</option>
        <option>Education</option>
        <option>Real Estate & Construction</option>
        <option>Media & Entertainment</option>
        <option>Fashion & Lifestyle</option>
        <option>Political</option>
        <option>Cinema / Celebrities</option>
        <option>Other</option>
            </select>

            <label>Target Location / Pincode</label>
            <input type="text" placeholder="e.g., Visakhapatnam, 530016">
        </div>

        <div class="form-card">
            <h3 style="margin-top: 0; font-size: 15px; color:#333;">Budget & Costing</h3>

            <label>Target Views (Min 100)</label>
            <input type="number" id="views" value="200" min="100" oninput="calculateCost()">
            <p style="font-size: 11px; color: #888; margin-top: -10px; margin-bottom: 15px;">Rate: â‚¹1.00 per view</p>

            <div class="cost-box">
                <div class="cost-row">
                    <span>Rate Per View</span>
                    <span>â‚¹ 1.00</span>
                </div>
                <div class="cost-row">
                    <span>Subtotal</span>
                    <span id="subtotalDisplay">â‚¹ 200.00</span>
                </div>
                <div class="cost-row">
                    <span>GST (18%)</span>
                    <span id="gstDisplay">â‚¹ 36.00</span>
                </div>
                <div class="cost-total">
                    <span>Total Payable</span>
                    <span id="totalDisplay">â‚¹ 236.00</span>
                </div>
            </div>
        </div>

        <button class="btn-submit" onclick="publishFrameAd()">PAY & PUBLISH AD</button>

    </div>

</div>

<script>
    function calculateCost() {
        // 1. Get Values
        var views = parseInt(document.getElementById('views').value) || 0;
        var costPerView = 1.00;

        // 2. Calculate
        var subtotal = views * costPerView;
        var gst = subtotal * 0.18;
        var total = subtotal + gst;

        // 3. Update UI
        document.getElementById('subtotalDisplay').innerText = "â‚¹ " + subtotal.toFixed(2);
        document.getElementById('gstDisplay').innerText = "â‚¹ " + gst.toFixed(2);
        document.getElementById('totalDisplay').innerText = "â‚¹ " + total.toFixed(2);
    }

    // --- KEY FUNCTION TO SAVE DATA ---
    function publishFrameAd() {
        const name = document.getElementById('campName').value;
        const category = document.getElementById('campCat').value;
        const totalCost = document.getElementById('totalDisplay').innerText;
        const views = document.getElementById('views').value;

        if(!name) { alert("Please enter Campaign Name"); return; }

        // 1. Create the Ad Object
        const newAd = {
            id: "FRA" + Math.floor(Math.random() * 9999),
            type: "Frame", // Important identifier
            name: name,
            category: category,
            stats: { views: 0, clicks: 0, spent: 0 },
            budget: totalCost,
            target: views,
            status: "Pending", // This makes it show in Admin Pending
            date: new Date().toLocaleDateString()
        };

        // 2. Save to Browser Memory (LocalStorage)
        let ads = JSON.parse(localStorage.getItem("vendorCampaigns")) || [];
        ads.push(newAd);
        localStorage.setItem("vendorCampaigns", JSON.stringify(ads));

        // 3. Success & Redirect
        alert("Ad Submitted! Sent to Admin for Approval.");
        window.location.href = "manage_campaigns.html";
    }
</script>

</body>
</html>